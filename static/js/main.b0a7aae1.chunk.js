(this["webpackJsonpwindows-7-calculator"]=this["webpackJsonpwindows-7-calculator"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},68:function(e,t){},69:function(e,t,n){"use strict";n.r(t);var c=n(16),i=n.n(c),a=n(37),s=n.n(a),l=(n(57),n(13)),o=n(19),r=(n(58),n(9));function u(e){var t=e.upperVal,n=e.lowerVal;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"outer-div expression",children:Object(r.jsx)("label",{id:"expression",className:"inner-div small-text","data-testid":"expression",children:t})}),Object(r.jsx)("div",{className:"outer-div",children:Object(r.jsx)("label",{id:"lowerVal",className:"inner-div large-text","data-testid":"lowerVal",children:n})})]})}function j(e){var t=e.className,n=void 0===t?"":t,c=e.name,i=e.id,a=void 0===i?c:i,s=e.onClick;return Object(r.jsx)("button",{className:n,id:a,name:c,onClick:s,children:c})}var b=n(2),m=n(71);function d(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)("0"),s=Object(o.a)(a,2),d=s[0],O=s[1],f=Object(c.useState)("0"),x=Object(o.a)(f,2),v=x[0],g=x[1],h=Object(c.useState)(""),k=Object(o.a)(h,2),C=k[0],p=k[1],N=Object(c.useState)(Array(5).fill([" "," "])),y=Object(o.a)(N,2),E=y[0],S=y[1],w=Object(c.useState)(null),M=Object(o.a)(w,2),B=M[0],q=M[1],R=Object(c.useState)(!1),I=Object(o.a)(R,2),V=I[0],D=I[1],A=Object(c.useState)(null),L=Object(o.a)(A,2),T=L[0],H=L[1],P=Object(c.useState)(0),z=Object(o.a)(P,2),F=z[0],J=z[1],K=new RegExp("\\+|-|\\*|\\/"),U="https://github.com/Poplica/react-calculator/blob/master/README.md";Object(c.useEffect)((function(){["Infinity","NaN"].includes(d)?p("Cannot divide by zero"):d.includes("i")&&p("Cannot sqrt negative"),d.length>12&&(document.getElementById("lowerVal").style.fontSize="16px")}),[d]),Object(c.useEffect)((function(){C&&O("")}),[C]);var _=function(){i([]),O("0"),H(null),p(""),D(!1)},G=function(e){var t=e.target;if(!C){var n=t.name;["=","MR","MS","hist","sqrtinv","percent"].includes(T)||K.test(T)?(V&&i([]),O(n)):O((function(e){return"0"===e?n:e+n})),D(!1),H(n)}},Q=function(e){var t=e.target;if(!C){var c=t.name,a=n,s=d;if(K.test(T))a=[].concat(Object(l.a)(n.slice(0,-1)),[c]);else if([".","CE","toggleSign","MR","hist","paste","sqrtinv","percent"].includes(T))"."===d.slice(-1)[0]&&(s=d.slice(0,-1)),a=K.test(n.slice(-1).toString())?[].concat(Object(l.a)(n),[s]):[s],s=W(a),a=a.concat(c);else if("="===T)a=[s=W(n),c];else{var o=[].concat(Object(l.a)(n),[d]);s=W(o),a=o.concat(c)}D(!1),i(a),O(s),H(c)}},W=function(e){return Object(m.a)(e.join(""))+""},X=function(){return E.filter((function(e){return" "!==e[0]&&" "!==e[1]}))},Y=function(e,t){var n=document.getElementsByClassName("history")[e];n&&n instanceof HTMLElement&&(n.style.backgroundColor=t)},Z=function(e,t){var n=document.getElementsByClassName("history")[e];n&&n instanceof HTMLElement&&(n.style.color=t)},$=function(e){Z(e,"white"),Y(e,"rgb(102, 132, 146)")};Object(c.useEffect)((function(){return["hist","="].includes(T)||(Z(B,"black"),Y(B,"lightblue")),"hist"===T&&$(B),"="===T&&Y(B,"lightblue"),function(){null!==B&&(Z(B,"black"),Y(B,"transparent"))}}));var ee=function(e){return function(){C||" "===E[e+F][1]||null===B||("="===T&&D(!0),O(E[e+F][1]),H("hist"),$(e),q(e))}},te=function(e){var t=e.key,n={q:"M-",p:"M+",m:"MS",r:"MR",l:"MC",c:"copy",v:"paste"},c={Enter:"MS","=":"+","@":"sqrt","%":"%"},i={Enter:"=",r:"inverse",Escape:"C",Delete:"CE",Backspace:"Del",F9:"toggleSign",ArrowUp:"up",ArrowDown:"down",PageUp:"up",PageDown:"down"};try{e.ctrlKey&&t in n?"c"===t?navigator.clipboard.writeText(d):"v"===t?(navigator.clipboard.readText().then((function(e){return O(isNaN(Number(e))?"0":e)})),H("paste")):document.getElementById(n[t]).click():e.shiftKey&&t in c?document.getElementById(c[t]).click():"F1"===t?window.open(U,"_blank"):t in i?document.getElementById(i[t]).click():document.getElementById(t).click()}catch(a){}e.target.blur()};return Object(c.useEffect)((function(){return document.addEventListener("keyup",te),function(){document.removeEventListener("keyup",te)}})),Object(r.jsxs)("main",{className:"calculator",children:[Object(r.jsx)("div",{className:"menu",children:Object(r.jsx)("a",{target:"_blank",href:U,rel:"noopener noreferrer",children:"Help"})}),Object(r.jsxs)("div",{className:"display",children:[Object(r.jsxs)("div",{className:" outer-div navigation",children:[Object(r.jsx)(j,{id:"up",name:"\u25b2",onClick:function(){C||null===B||(0===B?(B+F-1===-1?O(E[0][1]):(J((function(e){return e-1})),O(E[B+F-1][1])),$(0)):ee(B-1)(),"="===T&&D(!0),H("hist"))}}),Object(r.jsx)(j,{id:"down",name:"\u25bc",onClick:function(){if(!C&&null!==B){var e=X();B+F===e.length-1?(O(E[B+F][1]),$(B+F)):4===B?(J((function(e){return e+1})),O(E[B+F+1][1])):ee(B+1)(),"="===T&&D(!0),H("hist")}}})]}),Object(r.jsx)("div",{className:"outer-div",children:E.slice(F,F+5).map((function(e,t){return Object(r.jsx)("div",{className:"history",onClick:ee(t),style:{borderBottom:" "!==e[1]&&" "!==e[0]&&4!==t?"1px dotted black":"1px solid transparent"},children:e[0]},t)}))}),Object(r.jsx)(u,{upperVal:n,lowerVal:d}),Object(r.jsx)("label",{id:"error",children:C}),Object(r.jsx)("label",{id:"memory",children:"0"!==v?"M":""})]}),Object(r.jsxs)("div",{className:"keyboard",children:[Object(r.jsx)(j,{name:"MC",onClick:function(){g("0")}}),Object(r.jsx)(j,{name:"MR",onClick:function(){C||(O(v),H("MR"))}}),Object(r.jsx)(j,{name:"MS",onClick:function(){C||(g(d),isNaN(T)||H("MS"))}}),Object(r.jsx)(j,{name:"M+",onClick:function(){C||g(W([v,"+",d]))}}),Object(r.jsx)(j,{name:"M-",onClick:function(){C||g(W([v,"-",d]))}}),Object(r.jsx)("br",{}),Object(r.jsx)(j,{name:"Del",onClick:function(){C||"="===T||"0"===d||(O((function(e){return 1===e.length?"0":e.slice(0,-1)})),H("del"))}}),Object(r.jsx)(j,{name:"CE",onClick:function(){C?_():(O("0"),H("CE"))}}),Object(r.jsx)(j,{name:"C",onClick:_}),Object(r.jsx)(j,{id:"toggleSign",name:"\xb1",onClick:function(){C||(O((function(e){return"".concat(-1*Number(e))})),H("toggleSign"))}}),Object(r.jsx)(j,{id:"sqrt",name:"\u221a",onClick:function(){C||(O((function(e){return"".concat(Object(b.Re)(Number(e)))})),H("sqrtinv"))}}),Object(r.jsx)("br",{}),Object(r.jsx)(j,{className:"button-num",name:"7",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:"8",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:"9",onClick:G}),Object(r.jsx)(j,{name:"/",onClick:Q}),Object(r.jsx)(j,{name:"%",onClick:function(){C||(n.length>1?K.test(n.slice(-1).toString())?O((function(e){return"".concat(Number(W(n.slice(0,-1)))*Number(e)/100)})):O((function(e){return"".concat(Number(W(n))*Number(e)/100)})):O("0"),H("percent"))}}),Object(r.jsx)("br",{}),Object(r.jsx)(j,{className:"button-num",name:"4",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:"5",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:"6",onClick:G}),Object(r.jsx)(j,{name:"*",onClick:Q}),Object(r.jsx)(j,{id:"inverse",name:"1/x",onClick:function(){C||(O((function(e){return"".concat(Object(b.Gc)(Number(e)))})),H("sqrtinv"))}}),Object(r.jsx)("br",{})]}),Object(r.jsxs)("div",{className:"keyboard keyboard-bot",children:[Object(r.jsxs)("div",{className:"bot-left",children:[Object(r.jsx)(j,{className:"button-num",name:"1",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:"2",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:"3",onClick:G}),Object(r.jsx)(j,{name:"-",onClick:Q}),Object(r.jsx)("br",{}),Object(r.jsx)(j,{className:"button-num button-wide",name:"0",onClick:G}),Object(r.jsx)(j,{className:"button-num",name:".",onClick:function(){C||d.includes(".")||("="===T||K.test(T)||0===n.length&&"0"===d?O("0."):O((function(e){return e+"."})),D(!1),H("."))}}),Object(r.jsx)(j,{name:"+",onClick:Q})]}),Object(r.jsx)("div",{className:"bot-right",children:Object(r.jsx)(j,{className:"button-tall",name:"=",onClick:function(){if(!C){var e=n,t=d;if(K.test(n.toString()))if([".","CE","toggleSign","MR","hist","paste","sqrtinv","percent"].includes(T)){if("."===d.slice(-1)[0]&&(t=d.slice(0,-1)),K.test(n.slice(-1).toString()))e=[].concat(Object(l.a)(n),[t]);else{var c=n.slice(-2),a=Object(o.a)(c,2);e=[t,a[0],a[1]]}t=W(e)}else if("="===T){var s=n.slice(-2),r=Object(o.a)(s,2),u=r[0],j=r[1];e=[d,u,j],t=W([].concat(Object(l.a)(n),[u,j]))}else e=[].concat(Object(l.a)(n),[d]),t=W(e);else"."!==T?e=[d]:(e=[d.slice(0,-1)],t=d.slice(0,-1));var b=E.filter((function(e){return" "===e[0]&&" "===e[1]})),m=E;0!==b.length?(m[5-b.length]=[e.join(""),t],q(5-b.length)):(m=m.concat([[e.join(""),t]]),q(4),J(X().length-4)),D(!0),S(m),i(e),O(t),H("=")}}})})]})]})}s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)("div",{children:Object(r.jsx)(d,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.b0a7aae1.chunk.js.map