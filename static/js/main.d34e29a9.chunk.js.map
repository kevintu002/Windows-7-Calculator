{"version":3,"sources":["components/CalcDisplay.js","components/CalcKey.js","Calculator.js","index.js"],"names":["CalcDisplay","upperVal","lowerVal","className","CalcKey","name","onClick","Calculator","useState","expression","setExpression","setLowerVal","setIsReadyForOperation","isReadyForOperand","setIsReadyForOperand","setWasEqual","prevKey","setPrevKey","handleOperator","target","RegExp","test","prev","pop","slice","handleDigit","useEffect","console","log","evaluate","join","length","includes","a","b","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d34e29a9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function CalcDisplay({upperVal, lowerVal}) {\r\n  return (\r\n    <div>\r\n      <div className=\"outer-div\">\r\n        <div className=\"inner-div sm-text\">{upperVal}</div>\r\n      </div>\r\n      <div className=\"outer-div\">\r\n        <div className=\"inner-div lg-text\">{lowerVal}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function CalcKey({name, onClick}) {\r\n  return (\r\n    <button name={name} onClick={onClick}>{name}</button>\r\n  )\r\n}","import './css/style.css';\r\nimport CalcDisplay from './components/CalcDisplay';\r\nimport CalcKey from './components/CalcKey';\r\nimport { useEffect, useState } from 'react';\r\nimport { evaluate } from 'mathjs';\r\n\r\nexport default function Calculator() {\r\n  const [expression, setExpression] = useState([]);\r\n  const [lowerVal, setLowerVal] = useState('0'); // input state\r\n  // const [operator, setOperator] = useState(null);\r\n  const [isReadyForOperation, setIsReadyForOperation] = useState(true);\r\n  const [isReadyForOperand, setIsReadyForOperand] = useState(false);\r\n  const [wasEqual, setWasEqual] = useState(false);\r\n  const [prevKey, setPrevKey] = useState(null);\r\n\r\n  const handleDelete = () => {\r\n    if (lowerVal !== '0') {\r\n      setLowerVal((prev) => (\r\n        prev.length === 1 ? '0' : prev.slice(0, -1)\r\n      ))\r\n    }\r\n  }\r\n\r\n  const handleClear = () => {\r\n    setExpression([])\r\n    setLowerVal('0')\r\n    // setOperator(null)\r\n    setIsReadyForOperation(true)\r\n    setIsReadyForOperand(false)\r\n    setWasEqual(false)\r\n    setPrevKey(null)\r\n  }\r\n\r\n  const handleClearEntry = () => {\r\n    setLowerVal('0')\r\n    setWasEqual(false)\r\n    setPrevKey(null)\r\n    // setIsReadyForOperation(true)\r\n    // setIsReadyForOperand(false)\r\n  }\r\n\r\n  const handleOperator = () => ({target}) => {\r\n    setWasEqual(false)\r\n    \r\n    // replace operator if prevKey was an operator\r\n    if (new RegExp('\\\\+|-|\\\\*|\\\\/|%').test(prevKey)) {\r\n      setExpression((prev) => {\r\n        return [...prev.pop(), target.name]\r\n      })\r\n    } else if (prevKey === '.') {\r\n      setLowerVal((prev) => prev.slice(0, -1))\r\n      setExpression((prev) => [...prev, lowerVal.slice(0, -1), target.name])\r\n    } else { // append lowerVal and operator\r\n      setExpression((prev) => [...prev, lowerVal, target.name])\r\n    }\r\n    setPrevKey(target.name)\r\n  }\r\n\r\n  const handleDot = ({target}) => {\r\n    if (!lowerVal.includes('.')) {\r\n      setLowerVal((prev) => (prev + '.'))\r\n    }\r\n    setPrevKey('.')\r\n  }\r\n\r\n  const handleDigit = () => ({target}) => {\r\n    setLowerVal((prev) => (\r\n      prev === '0' ? target.name : prev + target.name\r\n    ));\r\n    setPrevKey(target.name)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isReadyForOperand) {\r\n      console.log(expression)\r\n      setLowerVal(evaluate(expression.join('')) + '')\r\n      setIsReadyForOperand(false)\r\n      setWasEqual(true)\r\n      setPrevKey('=')\r\n    }\r\n  }, [isReadyForOperand, expression])\r\n\r\n  const handleEqual = () => ({target}) => {\r\n    // console.log('expression: ' + expression)\r\n    if (prevKey !== '=') {\r\n      setExpression((prev) => (\r\n        [...prev, lowerVal]\r\n      ))\r\n      setIsReadyForOperand(true)\r\n    } else {\r\n      setExpression((prev) => {\r\n        const [a] = prev.slice(-1), [b] = prev.slice(-2)\r\n        return [...prev, b, a]\r\n      }\r\n        \r\n      )\r\n      setIsReadyForOperand(true)\r\n    }\r\n\r\n    setPrevKey('=')\r\n  }\r\n\r\n  return (\r\n    <div className=\"calculator\" >\r\n      <div className=\"display\">\r\n        <CalcDisplay upperVal={expression} lowerVal={lowerVal} />\r\n      </div>\r\n      <div className=\"keyboard\">\r\n      </div>\r\n      <div className=\"keyboard-bot\">\r\n        <CalcKey name=\"Del\" onClick={handleDelete}/><CalcKey name=\"CE\" onClick={handleClearEntry}/><CalcKey name=\"C\" onClick={handleClear}/><CalcKey name=\"±\"/><CalcKey name=\"√\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"7\" onClick={handleDigit()}/><CalcKey name=\"8\" onClick={handleDigit()}/><CalcKey name=\"9\" onClick={handleDigit()}/><CalcKey name=\"/\" onClick={handleOperator()}/><CalcKey name=\"%\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"4\" onClick={handleDigit()}/><CalcKey name=\"5\" onClick={handleDigit()}/><CalcKey name=\"6\" onClick={handleDigit()}/><CalcKey name=\"*\" onClick={handleOperator()}/><CalcKey name=\"1/x\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"1\" onClick={handleDigit()}/><CalcKey name=\"2\" onClick={handleDigit()}/><CalcKey name=\"3\" onClick={handleDigit()}/><CalcKey name=\"-\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"0\" onClick={handleDigit()}/><CalcKey name=\".\" onClick={handleDot}/><CalcKey name=\"+\" onClick={handleOperator()}/><CalcKey name=\"=\" onClick={handleEqual()}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport Calculator from './Calculator';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div>\r\n      <Calculator />\r\n    </div>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}