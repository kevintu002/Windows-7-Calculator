{"version":3,"sources":["components/CalcDisplay.js","components/CalcKey.js","Calculator.js","index.js"],"names":["CalcDisplay","upperVal","lowerVal","className","CalcKey","name","onClick","Calculator","useState","expression","setExpression","setLowerVal","setIsReadyForOperation","isReadyForOperand","setIsReadyForOperand","setWasEqual","prevKey","setPrevKey","handleOperator","target","regex","RegExp","test","prev","slice","pop","handleDigit","useEffect","console","log","evaluate","join","length","includes","a","b","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48420b64.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function CalcDisplay({upperVal, lowerVal}) {\r\n  return (\r\n    <div>\r\n      <div className=\"outer-div\">\r\n        <div className=\"inner-div sm-text\">{upperVal}</div>\r\n      </div>\r\n      <div className=\"outer-div\">\r\n        <div className=\"inner-div lg-text\">{lowerVal}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function CalcKey({name, onClick}) {\r\n  return (\r\n    <button name={name} onClick={onClick}>{name}</button>\r\n  )\r\n}","import './css/style.css';\r\nimport CalcDisplay from './components/CalcDisplay';\r\nimport CalcKey from './components/CalcKey';\r\nimport { useEffect, useState } from 'react';\r\nimport { evaluate } from 'mathjs';\r\n\r\nexport default function Calculator() {\r\n  const [expression, setExpression] = useState([]);\r\n  const [lowerVal, setLowerVal] = useState('0'); // input state\r\n  // const [operator, setOperator] = useState(null);\r\n  const [isReadyForOperation, setIsReadyForOperation] = useState(true);\r\n  const [isReadyForOperand, setIsReadyForOperand] = useState(false);\r\n  const [wasEqual, setWasEqual] = useState(false);\r\n  const [prevKey, setPrevKey] = useState(null);\r\n\r\n  const handleDelete = () => {\r\n    if (lowerVal !== '0') {\r\n      setLowerVal((prev) => (\r\n        prev.length === 1 ? '0' : prev.slice(0, -1)\r\n      ))\r\n    }\r\n  }\r\n\r\n  const handleClear = () => {\r\n    setExpression([])\r\n    setLowerVal('0')\r\n    // setOperator(null)\r\n    setIsReadyForOperation(true)\r\n    setIsReadyForOperand(false)\r\n    setWasEqual(false)\r\n    setPrevKey(null)\r\n  }\r\n\r\n  const handleClearEntry = () => {\r\n    setLowerVal('0')\r\n    setWasEqual(false)\r\n    // setPrevKey('+')\r\n    setPrevKey(null)\r\n    // setIsReadyForOperation(true)\r\n    // setIsReadyForOperand(false)\r\n  }\r\n\r\n  const handleOperator = () => ({target}) => {\r\n    setWasEqual(false)\r\n    \r\n    // replace operator if prevKey was an operator\r\n    const regex = new RegExp('\\\\+|-|\\\\*|\\\\/|%');\r\n    if (regex.test(prevKey)) {\r\n      setExpression((prev) => {\r\n        if (regex.test(prev.slice(-1))) \r\n          prev.pop()\r\n        return [...prev, target.name]\r\n      })\r\n    } else if (prevKey === '.') { // edge case for dot input\r\n      setLowerVal((prev) => prev.slice(0, -1))\r\n      setExpression((prev) => [...prev, lowerVal.slice(0, -1), target.name])\r\n    } else { // append lowerVal and operator\r\n      setExpression((prev) => [...prev, lowerVal, target.name])\r\n    }\r\n    setPrevKey(target.name)\r\n  }\r\n\r\n  const handleDot = ({target}) => {\r\n    if (!lowerVal.includes('.')) {\r\n      setLowerVal((prev) => (prev + '.'))\r\n    }\r\n    setPrevKey('.')\r\n  }\r\n\r\n  const handleDigit = () => ({target}) => {\r\n    setLowerVal((prev) => (\r\n      prev === '0' ? target.name : prev + target.name\r\n    ));\r\n    setPrevKey(target.name)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isReadyForOperand) {\r\n      console.log(expression)\r\n      setLowerVal(evaluate(expression.join('')) + '')\r\n      setIsReadyForOperand(false)\r\n      setWasEqual(true)\r\n      setPrevKey('=')\r\n    }\r\n  }, [isReadyForOperand, expression])\r\n\r\n  const handleEqual = () => ({target}) => {\r\n    // console.log('expression: ' + expression)\r\n    if (prevKey !== '=') {\r\n      setExpression((prev) => (\r\n        [...prev, lowerVal]\r\n      ))\r\n      setIsReadyForOperand(true)\r\n    } else {\r\n      setExpression((prev) => {\r\n        const [a] = prev.slice(-1), [b] = prev.slice(-2)\r\n        return [...prev, b, a]\r\n      }\r\n        \r\n      )\r\n      setIsReadyForOperand(true)\r\n    }\r\n\r\n    setPrevKey('=')\r\n  }\r\n\r\n  return (\r\n    <div className=\"calculator\" >\r\n      <div className=\"display\">\r\n        <CalcDisplay upperVal={expression} lowerVal={lowerVal} />\r\n      </div>\r\n      <div className=\"keyboard\">\r\n      </div>\r\n      <div className=\"keyboard-bot\">\r\n        <CalcKey name=\"Del\" onClick={handleDelete}/><CalcKey name=\"CE\" onClick={handleClearEntry}/><CalcKey name=\"C\" onClick={handleClear}/><CalcKey name=\"±\"/><CalcKey name=\"√\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"7\" onClick={handleDigit()}/><CalcKey name=\"8\" onClick={handleDigit()}/><CalcKey name=\"9\" onClick={handleDigit()}/><CalcKey name=\"/\" onClick={handleOperator()}/><CalcKey name=\"%\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"4\" onClick={handleDigit()}/><CalcKey name=\"5\" onClick={handleDigit()}/><CalcKey name=\"6\" onClick={handleDigit()}/><CalcKey name=\"*\" onClick={handleOperator()}/><CalcKey name=\"1/x\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"1\" onClick={handleDigit()}/><CalcKey name=\"2\" onClick={handleDigit()}/><CalcKey name=\"3\" onClick={handleDigit()}/><CalcKey name=\"-\" onClick={handleOperator()}/><br/>\r\n        <CalcKey name=\"0\" onClick={handleDigit()}/><CalcKey name=\".\" onClick={handleDot}/><CalcKey name=\"+\" onClick={handleOperator()}/><CalcKey name=\"=\" onClick={handleEqual()}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport Calculator from './Calculator';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div>\r\n      <Calculator />\r\n    </div>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}